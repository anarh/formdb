<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <script src="../formdb.js"></script>
  </head>
  <body>
    <form id="basic">
      <p>
        Text input "foo":
        <input name="foo" value="foo">
      </p>
      <p>
        Select input "bar":
        <select name="bar">
          <option value="">(empty)</option>
          <option>bar 1</option>
          <option selected>bar 2</option>
          <option>bar 3</option>
        </select>
      </p>
      <p>
        Some radio buttons, "baz":
        <ul>
          <li><label><input type="radio" name="baz" value="a"> A</label></li>
          <li><label><input type="radio" name="baz" value="b" checked> B</label></li>
          <li><label><input type="radio" name="baz" value="c"> C</label></li>
          <li><label><input type="radio" name="baz" value=""> (none)</label></li>
        </ul>
      </p>
      <p>
        Some checkboxes, "qux":
        <ul>
          <li><label><input type="checkbox" name="qux" value="a"> a</label></li>
          <li><label><input type="checkbox" name="qux" value="b" checked> b</label></li>
          <li><label><input type="checkbox" name="qux" value="c"> c</label></li>
          <li><label><input type="checkbox" name="qux" value=""> (empty)</label></li>
        </ul>
      </p>
      <p>
        <input type="submit" name="sub" value="x submit">
        <input type="submit" name="sub" value="y submit">
        <button name="sub" value="z">z submit ("z")</button>
      </p>

      <textarea class="output" cols="24" rows="16"></textarea>
    </form>
  </body>
  <script>

    var form = formdb.Form('form')
      .on('change', change)
      .on('submit', submit);

    function change(data) {
      form.element.querySelector('textarea.output').value = JSON.stringify(data, null, '  ');
    }

    function submit(data, e) {
      change(data);
      e.preventDefault();
      return false;
    }

    change(form.getData());

  </script>
</html>
